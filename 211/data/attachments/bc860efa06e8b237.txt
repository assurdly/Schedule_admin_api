const jsonData = pm.response.json();

pm.test("Status code is 200 OK", function () {
    pm.response.to.have.status(200);
});

pm.test("Categories are returned as an array", function () {
    pm.expect(jsonData.data).to.be.an("array");
    pm.expect(jsonData.data.length).to.be.above(0);
});

pm.test("Each category has required fields", function () {
    const requiredFields = ["id", "display_name", "image", "code"];
    jsonData.data.forEach(category => {
        requiredFields.forEach(field => {
            pm.expect(category).to.have.property(field);
        });
    });
});
