const jsonData = pm.response.json();

pm.test("Status code is 200 OK", function () {
    pm.response.to.have.status(200);
});


pm.test("Product groups are returned as an array", function () {
    pm.expect(jsonData.data.data).to.be.an("array");
    pm.expect(jsonData.data.data.length).to.be.above(0);
});

pm.test("Each product group has required fields", function () {
    const requiredFields = ["id", "name", "status", "product_group_id", "meta"];
    jsonData.data.data.forEach(group => {
        requiredFields.forEach(field => {
            pm.expect(group).to.have.property(field);
        });
    });
});
